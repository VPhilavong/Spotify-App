{% extends 'base.html' %}

{% block title %}Recently Played Tracks{% endblock %}

{% block content %}
<h1>Recently Played Tracks</h1>

<div class="tracks-container">
    {% if recently_played %}
        {% for item in recently_played %}
            <div class="track">
                {% if item.track.album.images %}
                    <img src="{{ item.track.album.images.0.url }}" alt="{{ item.track.name }}" class="album-cover">
                {% else %}
                    <img src="https://via.placeholder.com/100" alt="No image available" class="album-cover">
                {% endif %}
                <h2>{{ item.track.name }}</h2>
                <p><strong>Artist:</strong> {{ item.track.artists.0.name }}</p>
                <p><strong>Album:</strong> {{ item.track.album.name }}</p>
                <p><strong>Played at:</strong> {{ item.played_at }}</p>
            </div>
        {% endfor %}
    {% elif error %}
        <p>{{ error }}</p>
    {% else %}
        <p>No recently played tracks available.</p>
    {% endif %}
</div>
{% endblock %}
