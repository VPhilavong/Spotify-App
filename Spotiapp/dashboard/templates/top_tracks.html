{% extends 'base.html' %}

{% block title %}Top Tracks{% endblock %}

{% block content %}
<h1>Your Top Tracks</h1>
<div class="time-range-links">
    <a href="{% url 'top_tracks' %}?time_range=short_term" class="{% if time_range == 'short_term' %}selected-term{% endif %}">1 Month</a>
    <a href="{% url 'top_tracks' %}?time_range=medium_term" class="{% if time_range == 'medium_term' %}selected-term{% endif %}">6 Month</a>
    <a href="{% url 'top_tracks' %}?time_range=long_term" class="{% if time_range == 'long_term' %}selected-term{% endif %}">1 Year</a>
</div>
<div class="tracks-container">
    {% for track in tracks_info %}
        <div class="track">
            <h2>{{ track.index }}. {{ track.name }}</h2>
            <p>by {{ track.artist }}</p>
            {% if track.image_url %}
                <a href="{{ track.spotify_url }}" target="_blank">
                    <img src="{{ track.image_url }}" alt="{{ track.name }}">
                </a>
            {% else %}
                <p>No image available</p>
            {% endif %}
        </div>
    {% endfor %}
</div>
{% endblock %}